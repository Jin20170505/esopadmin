<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jeeplus.modules.u8data.dept.mapper.SysDeptBeanMapper">
    <insert id="insert">
        INSERT INTO sys_office(
            id,
            parent_id,
            parent_ids,
            code,
            name,
            sort,
            type,
            grade,
            remarks,
            del_flag,
            useable
        ) VALUES (
             #{id},
             #{parent.id},
             #{parentIds},
             #{code},
             #{name},
             #{sort},
             '2',
             #{grade},
             #{remarks},
             '0',
             '1'
        )
    </insert>

    <insert id="batchInsert" parameterType="java.util.List">
        INSERT INTO sys_office(
            id,
            parent_id,
            parent_ids,
            code,
            name,
            sort,
            type,
            grade,
            remarks,
            del_flag,
            useable
        ) VALUES
        <foreach collection="list" item="item" separator=",">
            (
            #{item.id},
            #{item.parentid},
            #{item.parentids},
            #{item.code},
            #{item.name},
            #{item.sort},
            '2',
            '1',
            #{item.remarks},
            '0',
            '1'
            )
        </foreach>
        on duplicate key update
        id = values(id),
        parent_id=VALUES(parent_id),
        parent_ids=VALUES(parent_ids),
        code = values(code),
        name=VALUES(name),
        sort = values(sort)
    </insert>

</mapper>